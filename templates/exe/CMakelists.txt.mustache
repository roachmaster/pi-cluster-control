# THIS FILE IS AUTO-GENERATED BY bootstrap.sh. DO NOT EDIT MANUALLY.

cmake_minimum_required(VERSION {{CMAKE_VERSION}})
project({{CMAKE_PROJECT}})

set(CMAKE_CXX_STANDARD {{CMAKE_CXX_STANDARD}})
set(CMAKE_CXX_STANDARD_REQUIRED ON)

message(STATUS "CMAKE_CURRENT_SOURCE_DIR = ${CMAKE_CURRENT_SOURCE_DIR}")
message(STATUS "CMAKE_SOURCE_DIR         = ${CMAKE_SOURCE_DIR}")
message(STATUS "CMAKE_BINARY_DIR         = ${CMAKE_BINARY_DIR}")
message(STATUS "CMAKE_CURRENT_BINARY_DIR = ${CMAKE_CURRENT_BINARY_DIR}")

# === Executable Target ===
file(GLOB_RECURSE {{module_name_snake_case}}_sources
    ${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp
)

{{=<% %>=}}
if(NOT ${<%module_name_snake_case%>_sources})
    set(<%module_name_snake_case%>_sources ${CMAKE_CURRENT_SOURCE_DIR}/src/main.cpp)
endif()

add_executable(<%module_name_snake_case%>
    ${<%module_name_snake_case%>_sources}
)
<%={{ }}=%>

# === Include Directories ===
target_include_directories({{module_name_snake_case}} PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}/include
{{#DEPENDS_ON}}
    ${CMAKE_SOURCE_DIR}/{{module_name}}/include
{{/DEPENDS_ON}}
)

# === Link Libraries ===
target_link_libraries({{module_name_snake_case}} PRIVATE
{{#DEPENDS_ON}}
    {{module_name_snake_case}}_lib
{{/DEPENDS_ON}}
)

# === Output Path ===
set_target_properties({{module_name_snake_case}} PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin
)
# THIS FILE IS AUTO-GENERATED BY bootstrap.sh. DO NOT EDIT MANUALLY.

cmake_minimum_required(VERSION 3.21)
project(forge_plugin_TESTS)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

include(FetchContent)
enable_testing()

# === Global Test Dependencies ===
FetchContent_Declare(
    googletest
    URL https://github.com/google/googletest/archive/refs/tags/release-1.12.1.zip
)

FetchContent_MakeAvailable(googletest)

# === Collect All Test Sources ===
file(GLOB_RECURSE TEST_SOURCES
    ${CMAKE_CURRENT_SOURCE_DIR}/test_main.cpp
    ${CMAKE_CURRENT_SOURCE_DIR}/test_*.cpp
)

# === Test Executable ===
add_executable(test_forge_plugin ${TEST_SOURCES})

target_link_libraries(test_forge_plugin PRIVATE
    forge_plugin_lib
    gtest
    gtest_main
)
include(GoogleTest)
gtest_discover_tests(test_forge_plugin)

add_test(NAME test_forge_plugin COMMAND test_forge_plugin)

set_target_properties(test_forge_plugin PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin
)
